import { action } from '@storybook/addon-actions';
import { Meta, StoryObj } from '@storybook/react';
import { rest } from 'msw';
import { BASE_URL, PATH_MATCH_DETAILS } from 'src/data/api';
import Component from './Match';

export default {
  args: {
    id: 1,
    onNext: action('onNext'),
  },
  component: Component,
  parameters: {
    msw: {
      handlers: [
        rest.get(
          [BASE_URL, PATH_MATCH_DETAILS, 1].join('/'),
          (_req, res, ctx) => res(ctx.json(MATCH)),
        ),
      ],
    },
  },
} as Meta<typeof Component>;

export const Match: StoryObj<typeof Component> = {};

const MATCH = {
  players: [
    {
      backpack_0: 75,
      backpack_1: 42,
      backpack_2: 0,
      hero_id: 11,
      item_0: 117,
      item_1: 263,
      item_2: 172,
      item_3: 141,
      item_4: 63,
      item_5: 485,
      net_worth: 17808,
    },
    {
      backpack_0: 0,
      backpack_1: 0,
      backpack_2: 0,
      hero_id: 91,
      item_0: 88,
      item_1: 79,
      item_2: 269,
      item_3: 178,
      item_4: 0,
      item_5: 0,
      item_neutral: 358,
      net_worth: 6522,
    },
    {
      backpack_0: 16,
      backpack_1: 0,
      backpack_2: 0,
      hero_id: 52,
      item_0: 1,
      item_1: 121,
      item_2: 29,
      item_3: 41,
      item_4: 273,
      item_5: 36,
      item_neutral: 331,
      net_worth: 15587,
    },
    {
      backpack_0: 0,
      backpack_1: 0,
      backpack_2: 0,
      hero_id: 75,
      item_0: 254,
      item_1: 43,
      item_2: 190,
      item_3: 244,
      item_4: 593,
      item_5: 29,
      item_neutral: 840,
      net_worth: 6074,
    },
    {
      backpack_0: 0,
      backpack_1: 0,
      backpack_2: 0,
      hero_id: 98,
      item_0: 226,
      item_1: 29,
      item_2: 178,
      item_3: 100,
      item_4: 36,
      item_5: 21,
      item_neutral: 947,
      net_worth: 12332,
    },
    {
      backpack_0: 8,
      backpack_1: 0,
      backpack_2: 0,
      hero_id: 28,
      item_0: 21,
      item_1: 172,
      item_2: 36,
      item_3: 216,
      item_4: 73,
      item_5: 63,
      item_neutral: 838,
      net_worth: 7186,
    },
    {
      backpack_0: 0,
      backpack_1: 0,
      backpack_2: 0,
      hero_id: 14,
      item_0: 43,
      item_1: 131,
      item_2: 50,
      item_3: 11,
      item_4: 36,
      item_5: 108,
      item_neutral: 577,
      net_worth: 8883,
    },
    {
      backpack_0: 0,
      backpack_1: 0,
      backpack_2: 0,
      hero_id: 50,
      item_0: 593,
      item_1: 36,
      item_2: 267,
      item_3: 181,
      item_4: 29,
      item_5: 232,
      item_neutral: 680,
      net_worth: 7166,
    },
    {
      backpack_0: 0,
      backpack_1: 0,
      backpack_2: 0,
      hero_id: 128,
      item_0: 102,
      item_1: 214,
      item_2: 0,
      item_3: 36,
      item_4: 218,
      item_5: 0,
      item_neutral: 290,
      net_worth: 6247,
    },
    {
      backpack_0: 23,
      backpack_1: 0,
      backpack_2: 0,
      hero_id: 86,
      item_0: 29,
      item_1: 244,
      item_2: 121,
      item_3: 41,
      item_4: 37,
      item_5: 36,
      item_neutral: 357,
      net_worth: 11288,
    },
  ],
};
